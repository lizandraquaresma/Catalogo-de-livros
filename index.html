<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Livros</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Catálogo de Livros</h1>
        <!-- Formulário de Cadastro de Livros -->
        <form id="cadastroLivroForm">
            <label for="titulo">Título:</label>
            <input type="text" id="titulo" name="titulo" required>

            <label for="autor">Autor:</label>
            <input type="text" id="autor" name="autor" required>

            <label for="exemplares">Exemplares Disponíveis:</label>
            <input type="number" id="exemplares" name="exemplares" required>

            <!-- Adicionei um identificador ao botão de cadastro -->
            <button type="button" id="cadastrarLivroBtn">Cadastrar Livro</button>
        </form>

        <!-- Adicione esta div no corpo do HTML -->
        <div id="mensagemErro"></div>

        <form>
            <label for="pesquisa">Pesquisar Livros:</label>
            <input type="text" id="pesquisa">
        </form>

        <!-- Resultados da Pesquisa de Livros -->
        <div id="resultadosPesquisa"></div>

    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Criar uma instância da classe CatalogoLivros
            const catalogoLivros = new CatalogoLivros();

            // Adicionar ouvinte de evento para o botão de cadastro
            document.getElementById("cadastrarLivroBtn").addEventListener("click", function() {
                console.log("Função cadastrarLivro chamada.");
                const titulo = document.getElementById("titulo").value;
                const autor = document.getElementById("autor").value;
                const exemplares = parseInt(document.getElementById("exemplares").value);
                catalogoLivros.cadastrarLivro(titulo, autor, exemplares);
            });

            // Adicionar ouvinte de evento para o campo de pesquisa
            document.getElementById("pesquisa").addEventListener("input", function() {
                console.log("Função pesquisarLivros chamada.");
                const termoPesquisa = document.getElementById("pesquisa").value;
                console.log(`Termo de pesquisa: ${termoPesquisa}`);
                catalogoLivros.pesquisarLivros(termoPesquisa);
            });
        });
    </script>
</body>
</html>
